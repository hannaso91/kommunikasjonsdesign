<!doctype html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <title>Kjedsomhet ‚Äì Spesial</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />

  <style>
 
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    :root {
      --bg: #05070a;
      --bg-alt: #0b0f16;
      --text: #f5f5f5;
      --muted: #9ca3af;
      --accent: #facc15;
      --accent-soft: rgba(250, 204, 21, 0.1);
      --max-width: 900px;
      --transition: 0.6s ease;
      --font-body: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      font-family: var(--font-body);
     
      background: url("assets/Bakgrunn_kjedsomhet.png");
      background-repeat: no-repeat;
      background-size: 100% auto;      
      background-position: top center;  
      color: var(--text);
      line-height: 1.6;
    }

    .reading-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: rgba(15, 23, 42, 0.8);
      z-index: 1000;
    }

    .reading-progress__bar {
      width: 0;
      height: 100%;
      background: linear-gradient(to right, #22c55e, #facc15);
      transform-origin: left;
    }

    .hero {
      position: relative;
      min-height: 80vh;
      display: flex;
      align-items: flex-end;
      padding: 4rem 1.5rem;
      color: #f9fafb;
      background-image: url("assets/maxim-tolchinskiy-1cNX5GffrCE-unsplash.jpg");
      background-size: cover;
      background-position: center;
      background-attachment: fixed; 
    }

    .hero__overlay {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.3), rgba(15, 23, 42, 0.95));
    }

    .hero__content {
      position: relative;
      max-width: var(--max-width);
      margin: 0 auto;

      opacity: 0;
      transform: translateY(14px) scale(0.98);
      animation: heroIn 1.4s ease-out forwards;
    }

    @keyframes heroIn {
      0% {
        opacity: 0;
        transform: translateY(18px) scale(0.97);
      }
      60% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      100% {
        opacity: 1;
      }
    }


    .hero__label {
      text-transform: uppercase;
      font-size: 0.8rem;
      letter-spacing: 0.18em;
      color: var(--accent);
      margin-bottom: 0.8rem;
    }

    .hero__title {
      font-size: clamp(2.5rem, 4vw, 3.5rem);
      margin: 0 0 1rem;
    }

    .hero__ingress {
      font-size: 1.1rem;
      max-width: 38rem;
      color: #e5e7eb;
      margin-bottom: 1rem;
    }

    .hero__meta {
      font-size: 0.85rem;
      color: var(--muted);
    }

    .scroll-hint {
      margin-top: 2rem;
      font-size: 0.8rem;
      color: var(--muted);
      display: inline-flex;
      flex-direction: column;
      gap: 0.4rem;
      align-items: flex-start;
      opacity: 0;
      animation: fadeInHint 1.5s ease forwards 1.5s; 
    }

    .scroll-hint__arrow {
      width: 1px;
      height: 32px;
      background: linear-gradient(to bottom, rgba(156, 163, 175, 0.2), rgba(156, 163, 175, 0.9));
      position: relative;
      overflow: visible;
    }

    .scroll-hint__arrow::after {
      content: "";
      position: absolute;
      left: -4px;
      bottom: -1px;
      width: 9px;
      height: 9px;
      border-right: 1px solid rgba(156, 163, 175, 0.9);
      border-bottom: 1px solid rgba(156, 163, 175, 0.9);
      transform: rotate(45deg);
      animation: arrowDown 1.4s infinite ease-in-out;
    }

    @keyframes arrowDown {
      0% {
        transform: translateY(-4px) rotate(45deg);
      }
      50% {
        transform: translateY(10px) rotate(45deg);
      }
      100% {
        transform: translateY(-4px) rotate(45deg);
      }
    }

    @keyframes fadeInHint {
      from {
        opacity: 0;
        transform: translateY(6px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
      .reveal--left {
      transform: translateX(-24px);
    }

    .reveal--right {
      transform: translateX(24px);
    }

    .reveal.is-visible.reveal--left,
    .reveal.is-visible.reveal--right {
      transform: translateX(0);
    }

    .mode-toggle {
      margin-top: 1.5rem;
      padding: 1.3rem 1.2rem 1.1rem;
      border-radius: 1.2rem;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.4);
      max-width: 420px;
    }

    .mode-toggle__label {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 0.7rem;
    }

    .mode-toggle__track {
      position: relative;
      display: flex;
      align-items: stretch;
      justify-content: space-between;
      background: rgba(15, 23, 42, 0.95);
      border-radius: 999px;
      padding: 0.2rem;
      border: 1px solid rgba(55, 65, 81, 0.9);
      margin-bottom: 0.7rem;
      overflow: hidden;
    }

    .mode-toggle__option {
      position: relative;
      z-index: 2;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      align-items: center;
      justify-content: center;
      padding: 0.35rem 0.3rem 0.45rem;
      font-size: 0.8rem;
      cursor: pointer;
      color: var(--muted);
      user-select: none;
    }

    .mode-toggle__emoji {
      font-size: 1.1rem;
    }

    .mode-toggle__text {
      font-size: 0.78rem;
    }


    .mode-toggle__thumb {
      position: absolute;
      top: 3px;
      bottom: 3px;
      left: 3px; 
      width: calc(50% - 4px);
      background: rgba(34, 197, 94, 0.18);
      border-radius: 999px;
      box-shadow: 0 0 20px rgba(34, 197, 94, 0.45);
      border: 1px solid rgba(34, 197, 94, 0.7);
      transition: left 0.28s ease, background 0.28s ease, box-shadow 0.28s ease, border-color 0.28s ease;
    }

    .mode-toggle--rest .mode-toggle__thumb {
      left: calc(50% + 1px);
      background: rgba(56, 189, 248, 0.2);
      border-color: rgba(56, 189, 248, 0.8);
      box-shadow: 0 0 20px rgba(56, 189, 248, 0.45);
    }


    .mode-toggle--exercise .mode-toggle__option--left,
    .mode-toggle--rest .mode-toggle__option--right {
      color: #e5fce0;
      font-weight: 600;
    }

    .mode-toggle--exercise .mode-toggle__option--right,
    .mode-toggle--rest .mode-toggle__option--left {
      color: var(--muted);
    }

    .mode-toggle__description {
      margin: 0;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .story {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 3rem 1.5rem 5rem;
    }

    .chapter {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 2.2fr);
      gap: 2rem;
      margin: 4rem 0;
    }

    .chapter__sidebar {
      position: sticky;
      top: 5rem; 
      align-self: flex-start;
      padding-right: 1rem;
      border-right: 1px solid rgba(148, 163, 184, 0.3);
    }

    .chapter__number {
      font-size: 0.85rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text);
      margin-bottom: 0.5rem;
    }

    .chapter__title {
      font-weight: 600;
      font-size: 1rem;
    }

    .chapter__content p {
      margin: 0 0 1.2rem;
      font-size: 1rem;
    }

    .lead {
      font-size: 1.15rem;
      font-weight: 500;
    }

    .full-image {
      margin: 4rem -1.5rem;
    }

    .full-image_inner {
        position: relative;
        width: 100%;
        height: 70vh; 
        overflow: hidden;
      }

      .full-image_inner .full-video {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        transform: translate(-50%, -50%);
        object-fit: cover;  
        z-index: -1;        
        filter: brightness(60%); 
      }


    .full-image__inner::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.1));
    }

    .full-image__caption {
      position: relative;
      padding: 2.5rem 2rem;
      max-width: var(--max-width);
      color: #e5e7eb;
      font-size: 0.95rem;
    }



    .quote-block {
      position: relative;
      margin: 4rem 0 2rem;
      padding: 1rem 1.1rem 0.7rem;
      max-width: 28rem;
      margin-left: auto;      
      margin-right: 0;
      background: #020617;
      border-radius: 1.4rem 1.4rem 0.4rem 1.4rem; 
      border: 1px solid rgba(148, 163, 184, 0.6);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.8);
    }

    .quote-chat__messages {
      display: flex;
      flex-direction: column;
      gap: 1.6rem;
      width: 100%;
    }

    .quote-block::after {
      content: "";
      position: absolute;
      right: 14px;
      bottom: -7px;
      width: 14px;
      height: 14px;
      background: #020617;
      border-right: 1px solid rgba(148, 163, 184, 0.6);
      border-bottom: 1px solid rgba(148, 163, 184, 0.6);
      transform: rotate(45deg);
    }

    .quote-block blockquote {
      margin: 0 0 0.4rem;
      font-size: 0.98rem;
      font-style: normal;
    }

    .quote-block__author {
      margin: 0;
      font-size: 0.8rem;
      color: var(--muted);
      text-align: right;
    }

    .quote-chat {
      margin: 4rem auto;
      max-width: 420px;             
      padding: 1.4rem 1rem 1.6rem;
      border-radius: 2rem;
      background: radial-gradient(circle at top, #0b1120, #020617);
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .quote-chat__messages {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      width: 100%;
    }

    .quote-chat__bubble {
      position: relative;
      max-width: 75%;
      padding: 0.55rem 0.75rem;
      border-radius: 1.1rem;
      font-size: 0.92rem;
      line-height: 1.4;
      word-wrap: break-word;
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.25s ease, transform 0.25s ease;
    }

    .quote-chat__bubble.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .quote-chat__bubble--user {
      background: #7ACBE8;
      color: #d1fae5;
      align-self: flex-end;
      border-radius: 1.1rem 1.1rem 0.3rem 1.1rem;
    }


    .quote-chat__bubble--user::after {
      content: "";
      position: absolute;
      left: -4px;
      bottom: 4px;
      width: 10px;
      height: 10px;
      background: #7ACBE8;
      border-bottom-right-radius: 4px;
      transform: rotate(45deg);
    }

    .quote-chat__bubble--susanne {
      background: #0f172a;
      color: #e0e7ff;
      align-self: flex-start;
      border-radius: 1.1rem 1.1rem 1.1rem 0.3rem;
    }

    .quote-chat__bubble--susanne::after {
      content: "";
      position: absolute;
      right: -4px;
      bottom: 4px;
      width: 10px;
      height: 10px;
      background: #0f172a;
      border-bottom-left-radius: 4px;
      transform: rotate(45deg);
    }

    .quote-chat__typing {
      align-self: flex-start;           
      margin-top: 0.2rem;
      padding: 0.35rem 0.55rem;
      background: #e5e5ea;
      border-radius: 1rem 1rem 1rem 0.3rem;
      display: flex;
      gap: 4px;
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .quote-chat__typing.is-active {
      opacity: 1;
      transform: translateY(0);
    }

    .quote-chat__typing span {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #8e8e93;
      animation: typingDots 1.2s infinite ease-in-out;
    }

    .quote-chat__typing span:nth-child(2) { animation-delay: 0.15s; }
    .quote-chat__typing span:nth-child(3) { animation-delay: 0.3s; }

    @keyframes typingDots {
      0%, 80%, 100% { opacity: 0.3; transform: translateY(0); }
      40% { opacity: 1; transform: translateY(-2px); }
    }


    .quote-block__typing {
      display: flex;
      justify-content: flex-end;
      gap: 4px;
      margin-top: 0.5rem;
      padding-bottom: 0.2rem;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .quote-block__typing.is-active {
      opacity: 1;
    }

    .quote-block__typing span {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.9);
      animation: typing 1s infinite ease-in-out;
    }

    .quote-block__typing span:nth-child(2) {
      animation-delay: 0.15s;
    }

    .quote-block__typing span:nth-child(3) {
      animation-delay: 0.3s;
    }

    @keyframes typing {
      0%, 80%, 100% {
        opacity: 0.2;
        transform: translateY(0);
      }
      40% {
        opacity: 1;
        transform: translateY(-3px);
      }
    }

    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity var(--transition), transform var(--transition);
    }

    .reveal.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 768px) {
      .chapter {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .chapter__sidebar {
        position: static;
        border-right: none;
        border-bottom: 1px solid rgba(148, 163, 184, 0.3);
        padding-bottom: 0.8rem;
        margin-bottom: 1.5rem;
      }

      .full-image {
        margin: 3rem -1.5rem;
      }

      .hero {
        align-items: center;
        padding-top: 5rem;
        padding-bottom: 5rem;
      }
    }

    .ending-section {
      margin-top: 6rem;
      padding: 4rem 1rem;
      text-align: left;
      max-width: 750px;
    }

    .ending-typing-container {
      position: relative;
      font-size: 1.4rem;
      line-height: 1.7;
      color: #f1f5f9;
      min-height: 6rem;
      white-space: normal;
    }

 
    .ending-typing {
      display: inline;
    }

    .ending-cursor {
      display: inline-block;
      width: 10px;
      height: 20px;
      background: #f1f5f9;
      margin-left: 6px;
      animation: blink 0.9s step-end infinite;
      border-radius: 2px;
      transform: translateY(3px);
    }

    @keyframes blink {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }


  </style>
</head>
<body>
  <div class="reading-progress">
    <div class="reading-progress__bar"></div>
  </div>

  <header class="hero">
    <div class="hero__overlay"></div>
    <div class="hero__content">
      <p class="hero__label">HIOF Spesial</p>
      
      <h1 class="hero__title">Er dette menneskehetens st√∏rste trussel?</h1>
      <p class="hero__ingress">
        Vi lever i en tid der verden rundt g√•r raskere enn noen gang f√∏r. Underholdning, informasjon og kommunikasjon er bare et tastetrykk unna, du kan n√• alt og alle p√• sekunder. 
        Samtidig ser man at tallene for mental uhelse er h√∏yere enn noen gang, og de fortsetter √• stige. Er denne tilgangen p√• underholdning bra for mennesker, trenger vi den? 
        Eller kan kjedsomheten v√¶re det vi trenger for √• tenke, f√∏le, hvile og skape s√•nn som mennesker gjorde f√∏r?
      </p>
      <p class="hero__meta">Tekst: Signe-Sofie Jansen ¬∑ Foto: Illustrasjon</p>
    </div>
  </header>

  <main class="story">
    <section class="chapter">
      <div class="chapter__sidebar">
        <p class="chapter__number">01</p>
        <p class="chapter__title">Hva skjer i hjernen n√•r vi kjeder oss?</p>
      </div>
      <div class="chapter__content">
        <p class="lead reveal">
          Men hva skjer inne i hjernen n√•r man kjeder seg? Kjedsomhet er knyttet til √∏kt aktivitet i hjernens ¬´default mode¬ª nettverk. 
          Det er et nettverk som er aktivt n√•r vi ikke er fokusert p√• en spesifikk oppgave. Samtidig reduseres aktiviteten i omr√•der for oppmerksomhetskontroll og selvregulering. 
          Kort fortalt s√• gj√∏r kjedsomhet oss mer mottakelige for impulser, og motiverer oss til √• s√∏ke nye, mer meningsfulle oppgaver.¬†
        </p>
      </div>
    </section>

    <section class="full-image reveal">
      <div class="full-image_inner">
        <video class="full-video" autoplay muted loop playsinline>
          <source src="assets/Hjerne_animasjon.mp4" type="video/mp4">
        </video>
      </div>
    </section>

    <section class="chapter">
      <div class="chapter__sidebar">
        <p class="chapter__number">02</p>
        <p class="chapter__title">Hva kjedsomhet egentlig er</p>
      </div>

      <div class="chapter__content">
        <p class="reveal">
          Psykolog Susanne Bjorvand beskriver kjedsomhet som ¬´et misforhold mellom det vi gj√∏r, og det vi opplever som viktig eller meningsfullt¬ª.
        </p>
        <p class="reveal">
          Kjedsomhet er ikke bare tom tid. Det er et signal: noe i oss pr√∏ver √• fortelle oss at vi trenger noe annet, noe mer meningsfullt.
        </p>
        <p class="reveal">
          N√•r vi fyller alle pauser med skjermer, underholdning og innhold, kan dette signalet bli overd√∏vet.
        </p>
      </div>
    </section>

    <section class="quote-chat reveal" id="bjorvand-quotes">
      <div class="quote-chat__messages"></div>

      <div class="quote-chat__typing">
        <span></span><span></span><span></span>
      </div>
    </section>

    <section class="chapter">
      <div class="chapter__sidebar">
        <p class="chapter__number">03</p>
        <p class="chapter__title">N√•r kroppen er psyksik aktiv, men fysisk passiv</p>
      </div>
      <div class="chapter__content">
        <p class="reveal">
          Mangel p√• kjedsomhet, eller mangel p√• aktivitet, kan p√•virke mennesker negativt. 
          Bjorvand forteller at kroppen har et sympatisk og et parasympatisk nervesystem, en for aktivitet og en for hvile. 
          Det er viktig at kroppen kan bytte mellom disse ulike ¬´modusene¬ª da det er skadelig √• sitte i en av de over lang tid..
        </p>
        <p class="reveal">
          Det p√•virker kroppen fysisk og psykisk. Det man ser med skjermbruk er at kroppen havner i en situasjon der de er psykisk aktive, men fysisk passive. 
          Det blir med andre ord vanskeligere √• skille de to fra hverandre, og f√• et tydelig skille mellom aktivitet og hvile.
        </p>
      </div>  
    </section>

    <section class="chapter">
      <div class="chapter__sidebar">
        <p class="chapter__number">03b</p>
        <p class="chapter__title">Aktivitet vs hvile i kroppen</p>
      </div>

      <div class="chapter__content">
        <p class="reveal">
          Her kan du utforske hvordan kroppen veksler mellom aktivitet og hvile.
        </p>

        <div class="mode-toggle reveal" id="modeToggle">
          <div class="mode-toggle__label">Hvordan er kroppen din n√•?</div>

          <div class="mode-toggle__track">
            <div class="mode-toggle__option mode-toggle__option--left">
              <span class="mode-toggle__emoji">üèÉ‚Äç‚ôÄÔ∏è</span>
              <span class="mode-toggle__text">Mosjon</span>
            </div>
            <div class="mode-toggle__option mode-toggle__option--right">
              <span class="mode-toggle__emoji">üõå</span>
              <span class="mode-toggle__text">Hvile</span>
            </div>
            <div class="mode-toggle__thumb"></div>
          </div>

          <p class="mode-toggle__description" id="modeDescription">
            Kroppen er i aktivitetsmodus: h√∏yere puls, mer fokus, mer energi.
          </p>
        </div>
      </div>
    </section>
   
    <section class="chapter">
      <div class="chapter__sidebar">
        <p class="chapter__number">04</p>
        <p class="chapter__title">Kan kjedsomhet forklare √∏kningen i psykiske lidelser?</p>
      </div>

      <div class="chapter__content">
        <p class="reveal">
          Men det kan ikke sies med sikkerhet at dette er hovedgrunnen til de √∏kende tallene for psykiske lidelser.
        </p>
        <p class="reveal">
          Bjorvand forteller at ¬´Vi ser sammenhenger mellom oppmerksomhetsfunksjon og f√∏lelsesregulering og utvikling av psykiske lidelser.
          Det blir likevel forenklende per i dag √• bekrefte en direkte sammenheng mellom √∏kt prevalens av psykiske lidelser og kjedsomhet¬ª.
        </p>
      </div>
    </section>

    <div class="quote-chat__bubble quote-chat__bubble--susanne is-visible">
      ¬´Det er likevel p√•fallende mange de siste √•rene som s√∏ker hjelp og utredning for oppmerksomhetsvansker hos barn i dag. Dette tallet har √∏kt drastisk de siste √•rene - s√¶rlig etter covid¬ª
    </div>

    <section class="chapter">
      <div class="chapter__sidebar">
        <p class="chapter__number">04</p>
        <p class="chapter__title">Hva trenger barn og unge i dag?</p>
      </div>

      <div class="chapter__content">
        <p class="reveal">
          En stor bekymring er dagens unge. I en tid der flere skoler blir papirl√∏se, og apper er laget for √• gj√∏re barn avhengige, er det viktig √• tenke p√• barnas beste.
        </p>
        <p class="reveal">
          Bjorvand forklarer at hjernen kan trenes opp, hun anbefaler √• gi mennesker, s√¶rlig de i utvikling, trening for hjernens oppmerksomhetsspenn ved √• la de engasjere i fantasilek, lese b√∏ker, eller g√•turer gjerne i naturen.
        </p>
      </div>
    </section>

    <section class="ending-section reveal">
      <div class="ending-typing-container">
        <p id="endingTyping" class="ending-typing"></p>
        <span class="ending-cursor"></span>
      </div>
    </section>
  </main>

  <script>
    const revealElements = document.querySelectorAll(".reveal");

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          }
        });
      },
      {
        threshold: 0.15
      }
    );

    revealElements.forEach((el) => observer.observe(el));

    const progressBar = document.querySelector(".reading-progress__bar");

    function updateReadingProgress() {
      const scrollTop = window.scrollY || document.documentElement.scrollTop;
      const docHeight =
        document.documentElement.scrollHeight - window.innerHeight;

      const progress = docHeight > 0 ? scrollTop / docHeight : 0;
      progressBar.style.width = `${progress * 100}%`;
    }

    window.addEventListener("scroll", updateReadingProgress);
    window.addEventListener("resize", updateReadingProgress);

    
    updateReadingProgress();


const chat = document.querySelector("#bjorvand-quotes");

if (chat) {
  const messagesContainer = chat.querySelector(".quote-chat__messages");
  const typing = chat.querySelector(".quote-chat__typing");

  // Legg inn ALLE sp√∏rsm√•l og svar her üëá
  const conversation = [
    {
      from: "user",
      text: "Hva er kjedsomhet?"
    },
    {
      from: "susanne",
      text: "Et misforhold mellom det vi gj√∏r, og det vi opplever som viktig eller meningsfullt, eller om oppgaven er understimulerende eller overstimulerende"
    },
    {
      from: "user",
      text: "Skjermene v√•re ‚Äì gj√∏r de oss faktisk mer rastl√∏se?"
    },
    {
      from: "susanne",
      text: "Ja, konstante digitale stimuli reduserer toleransen v√•r for stille √∏yeblikk. Det gj√∏r mange mer urolige, selv om de er 'opptatte'."
    },
    {
      from: "user",
      text: "Ser du en √∏kning i barn som sliter?"
    },
    {
      from: "susanne",
      text: "Vi ser flere barn som s√∏ker hjelp for oppmerksomhetsvansker ‚Äì spesielt etter covid."
    },
    {
      from: "user",
      text: "Hva trenger barn og unge mest i dag?"
    },
    {
      from: "susanne",
      text: "Barn trenger skjermpauser, fantasilek, b√∏ker og muligheten til √• kjede seg innimellom."
    }
  ];

  let started = false;

  function addBubble({ from, text }) {
    const div = document.createElement("div");
    div.className = `quote-chat__bubble quote-chat__bubble--${from}`;
    div.textContent = text;
    messagesContainer.appendChild(div);

    requestAnimationFrame(() => {
      setTimeout(() => div.classList.add("is-visible"), 40);
    });
  }

  function runChat() {
    if (started) return;
    started = true;

    let index = 0;

    function next() {
      if (index >= conversation.length) {
        typing.classList.remove("is-active");
        return;
      }

      const msg = conversation[index];

      if (msg.from === "user") {
        addBubble(msg);
        index++;
        setTimeout(next, 1800);
      } else {
        typing.classList.add("is-active");

        setTimeout(() => {
          typing.classList.remove("is-active");
          addBubble(msg);
          index++;
          setTimeout(next, 2500);
        }, 1600); 
      }
    }

    next();
  }

  const chatobserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((e) => {
        if (e.isIntersecting) {
          runChat();
          observer.unobserve(e.target);
        }
      });
    },
    { threshold: 0.25 }
  );

  chatobserver.observe(chat);
}



const modeToggle = document.getElementById("modeToggle");
const modeDescription = document.getElementById("modeDescription");

if (modeToggle && modeDescription) {

  let isExercise = true;
  modeToggle.classList.add("mode-toggle--exercise");

  function updateMode() {
    if (isExercise) {
      modeToggle.classList.add("mode-toggle--exercise");
      modeToggle.classList.remove("mode-toggle--rest");
      modeDescription.textContent =
        "Du er mentalt 'p√•', slik mye skjermbruk holder oss. Oppmerksomheten jobber, men kroppen hviler. Det skaper det farlige gapet Bjorvand beskriver ‚Äì der vi tror vi er i aktivitet, men egentlig mangler den fysiske reguleringen som kroppen trenger.";
    } else {
      modeToggle.classList.remove("mode-toggle--exercise");
      modeToggle.classList.add("mode-toggle--rest");
      modeDescription.textContent =
        "Her f√•r hjernen slippe unna konstant stimuli. Default mode-nettverket aktiveres, kreativitet f√•r plass, og kroppen g√•r inn i ekte hvile. Dette er √∏yeblikkene som forsvinner n√•r hver mikro-pause fylles med telefonen.";
    }
  }

  const track = modeToggle.querySelector(".mode-toggle__track");
  if (track) {
    track.addEventListener("click", (event) => {
      const target = event.target;
      if (target.closest(".mode-toggle__option--left")) {
        isExercise = true;
      } else if (target.closest(".mode-toggle__option--right")) {
        isExercise = false;
      } else {
        isExercise = !isExercise;
      }

      updateMode();
    });
  }

  updateMode();
}

const endingText = 
`Sp√∏rsm√•let som gjenst√•r, er kanskje ikke hva kjedsomhet gj√∏r med oss.
Men hva vi g√•r glipp av n√•r vi aldri kjenner p√• den.
For bak hvert stille √∏yeblikk ligger muligheten til √• v√¶re litt mer menneske ‚Äì
og litt mindre p√•koblet.`;

const endingElement = document.getElementById("endingTyping");
const endingSection = document.querySelector(".ending-section");
let endingStarted = false;

function typeEnding(text, element, speed = 35) {
  let i = 0;

  function typingStep() {
    if (i < text.length) {
      element.textContent += text.charAt(i);
      i++;
      setTimeout(typingStep, speed);
    }
  }

  typingStep();
}

const endingObserver = new IntersectionObserver(
  (entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting && !endingStarted) {
        endingStarted = true;
        typeEnding(endingText, endingElement);
        endingObserver.unobserve(entry.target);
      }
    });
  },
  { threshold: 0.4 }
);

endingObserver.observe(endingSection);



  </script>
</body>
</html>
